#This is the vector that contains the best solutions

conts = [[0.7560099371225215,
          0.49490457238217095,
          1465.3279139137533,
          1.4091559881166262,
          1.1779084541870428,
          0.1735807193288863,
          160.740314093336,
          0.1381277876723493,
          80.55891517940199,
          0.3628903825266493,
          163.11386461227073,
          6.236309649061907,
          35.217833955373344,
          0.030292811511496473,
          141.39221042185468,
          0.006004210014864432,
          4.41193355396112,
          0.16279117102039456,
          142.17548325209873,
          1.4024999880053677,
          1.2691289136908148,
          0.14295794507569257,
          106.46754618704982,
          1.2751995143865837,
          2.417206692491674,
          0.5601372820922451,
          69.15933089699438,
          0,
          6,
          4,
          3,
          2,
          1,
          5],
         [0.7560099371225215,
          0.4951775118921114,
          1465.3279139137533,
          1.4091559881166262,
          1.1779054633814856,
          0.17338807196146386,
          160.740314093336,
          0.21162332761647695,
          80.55637963473379,
          0.36296263203629886,
          163.11386455693787,
          6.2363104224316155,
          42.59853197253811,
          0.030292685305891357,
          141.39221042185468,
          0.006004210014864432,
          6.217218625362392,
          0.3220682373635011,
          142.17391314179798,
          1.8204112216700095,
          1.2691289136908148,
          0.14300343465652476,
          106.46754618704982,
          1.269303478489555,
          2.4172066893559374,
          0.600658492467388,
          69.16063569962152,
          0,
          6,
          4,
          3,
          2,
          1,
          5],
         [0.9825864701973045,
          0.49185797073364423,
          1471.7437000882637,
          1.7689049431494437,
          1.101894417253023,
          0.0035728300534279838,
          114.65339717428941,
          4.815932220188681,
          25.5392249785627,
          0.4136421271093169,
          120.6587696567366,
          0.0014787432441164465,
          97.41292858301938,
          0.20788680903790138,
          124.23998693748239,
          1.5920061019705118,
          1.437447309093419,
          0.0010765691885036852,
          69.94234003373978,
          2.6703874744010925,
          1.701375972962809,
          0.3955150998591025,
          64.50856696707287,
          0.21215080057238217,
          1.1213261923196036,
          0.27532154247459806,
          57.94639799140134,
          0,
          1,
          2,
          5,
          3,
          4,
          6],
         [0.9825865771470677,
          0.49185652364027727,
          1471.7437000882637,
          1.7690244005810762,
          1.1018324242054176,
          0.0034170944213602686,
          114.6533971741652,
          4.83588381667613,
          25.516961581471392,
          0.38823425085007024,
          120.65877052655871,
          0.033103840591199,
          96.29297376216107,
          0.25919978082710643,
          124.23591738092676,
          1.5911421553375522,
          1.1001009803932718,
          0.0010023488167772779,
          51.55847465065226,
          0.8737561857153945,
          1.6425849622230553,
          0.25838411922280946,
          45.965200927258316,
          1.1506036139584086,
          2.3063730966779294,
          0.25184161546993256,
          38.413907172163164,
          0,
          1,
          2,
          5,
          3,
          4,
          6],
         [0.9825865771470677,
          0.49185652364027727,
          1471.7437000882637,
          1.7690244517478655,
          1.1017279750404367,
          0.0035748547666160043,
          114.6533971741652,
          4.83588381667613,
          25.50514523555599,
          0.3916261548336132,
          120.65877052655634,
          0.03640643482463055,
          96.32724048776991,
          0.25486399206611743,
          124.2359162133636,
          1.5911421553375522,
          1.1001036228232624,
          0.0010350121205567628,
          51.53772500169272,
          0.8625013625003802,
          1.6416391733272724,
          0.19603424148756854,
          45.94607933899665,
          1.1506036139584086,
          2.306363396828395,
          0.2515673085806829,
          38.413907172163164,
          0,
          1,
          2,
          5,
          3,
          4,
          6],
         [0.9825865771470677,
          0.49185621696377135,
          1471.7437000882637,
          1.7690244005810762,
          1.1018324242054176,
          0.003574854844216999,
          114.6533971741652,
          4.83588381667613,
          25.516965769554474,
          0.38921480359060084,
          120.65877052660609,
          0.036572677765739386,
          96.76685176373883,
          0.2592001170581735,
          124.23591738092676,
          1.5911421553375522,
          1.1001011148352733,
          0.0010023488167772779,
          51.558493595568734,
          0.8737561857153945,
          1.6428062167469435,
          0.19603424148756854,
          45.96571986011612,
          1.1506036139584086,
          2.3063730966779294,
          0.25184161546993256,
          38.21533119007449,
          0,
          1,
          2,
          5,
          3,
          4,
          6],
         [0.9825865066457542,
          0.49185626356310447,
          1471.7437000882637,
          1.769021371766298,
          1.1017341666885145,
          0.0035748963806065126,
          114.65339717442559,
          4.834571373648105,
          25.516953014252888,
          0.4482059465772333,
          120.65877052694327,
          0.07826374971505859,
          96.2433106116387,
          0.19270105277346575,
          124.23105785704841,
          1.5910146464347483,
          1.1001505238485307,
          0.0010345006947563495,
          51.538752013119286,
          0.8820551035221841,
          1.6926233918958589,
          0.20787763137411597,
          45.94627336945632,
          1.1531704542136976,
          2.3054247095057825,
          0.25184710960545265,
          38.15260334667818,
          0,
          1,
          2,
          5,
          3,
          4,
          6],
         [0.8990845191641393,
          0.49870438976850084,
          1523.3264110033026,
          1.1956901399752402,
          1.291221664000572,
          0.34091039082089086,
          217.87206265177167,
          4.712765380512848,
          22.607211143888748,
          0.08361723825110254,
          239.02982162557794,
          4.433794682095085,
          23.608595517017093,
          0.49125023406992846,
          250.8339197553926,
          2.3255160451739267,
          1.1020884055325986,
          0.2253252253941398,
          170.76322687504967,
          5.9151370760609145,
          83.40020387883534,
          0.025065895016394085,
          161.9441739465922,
          1.433844747267547,
          3.9365917645207085,
          0.13139792612162263,
          130.03620631952163,
          0,
          1,
          3,
          2,
          5,
          4,
          6],
         [0.8990845039412776,
          0.5016763124092105,
          1523.3264109932354,
          1.1956788583106812,
          1.291221664000572,
          0.4380506342621807,
          217.872062651822,
          4.712765380512848,
          22.47898588028388,
          0.07882382565694387,
          239.02978818331704,
          4.399431690628867,
          23.608595517017093,
          0.49125023406992846,
          250.83598884239166,
          2.3255160451739267,
          1.1025489308495686,
          0.23323856747304542,
          170.76322687504967,
          6.271519862765735,
          83.16837916486246,
          0.028473110085869863,
          161.9441739465922,
          1.4212093352735606,
          3.9367817589595235,
          0.13202421430570782,
          130.03620631952163,
          0,
          1,
          3,
          2,
          5,
          4,
          6],
         [0.8990845039412776,
          0.5016761512821699,
          1523.3264110001776,
          1.1956491310558297,
          1.291221664000572,
          0.3259637286303429,
          217.87206265188394,
          4.712765380512848,
          22.47898588028388,
          0.07882382565694387,
          239.0297851629935,
          4.4336217607772,
          23.609795682103837,
          0.49668306637441356,
          250.83598863037813,
          2.3255160451739267,
          1.1025489308495686,
          0.27024779844668906,
          170.76271581685657,
          6.272930563531594,
          83.16837916486246,
          0.024049579659820432,
          161.9441739465922,
          1.431848045037231,
          3.9474232159661318,
          0.12106762111730517,
          130.03620631952163,
          0,
          1,
          3,
          2,
          5,
          4,
          6],
         [0.8990845039412776,
          0.5016761512821699,
          1523.3264109930435,
          1.1956788583106812,
          1.291221664000572,
          0.4380250033033127,
          217.872062651822,
          4.712765380512848,
          22.47898588028388,
          0.07882382565694387,
          239.0297878154602,
          4.4336217607772,
          23.608595517017093,
          0.49125023406992846,
          250.83598867293077,
          2.3255160451739267,
          1.1025489308495686,
          0.4027201693937891,
          170.76322687504967,
          6.271519862765735,
          83.16837916486246,
          0.025065895016394085,
          161.9441739465922,
          1.431848045037231,
          3.9365917645207085,
          0.13202421430570782,
          130.03620631952163,
          0,
          1,
          3,
          2,
          5,
          4,
          6],
         [0.8990844944246578,
          0.5017666592266828,
          1523.3264110012224,
          1.1956788583106812,
          1.2912205650845971,
          0.42660227487154395,
          217.87206265175698,
          4.712765380512848,
          22.323923819041713,
          0.07894439865966096,
          239.02978780915777,
          4.434831888820602,
          22.5759102369854,
          0.4088182949888866,
          250.8360268871952,
          2.325377644909806,
          1.102479977725403,
          0.22569322752770637,
          170.7351422782619,
          6.271487479810228,
          83.16837916486246,
          0.025248967666016867,
          161.9441739465922,
          1.4198188932841822,
          3.98679544430166,
          0.20215404153358218,
          130.03620631952163,
          0,
          1,
          3,
          2,
          5,
          4,
          6],
         [0.8990844948790233,
          0.5017217709331199,
          1523.326410992974,
          1.1956267209170126,
          1.2912201499190248,
          0.5014307330383962,
          217.87206265175698,
          4.711723387562567,
          22.78357720968102,
          0.12026648879916903,
          239.02978781714904,
          4.422184634136923,
          22.5759102369854,
          0.4117279043309382,
          250.8360355761596,
          2.3253828661836753,
          1.102479977725403,
          0.1998941384829012,
          170.7351422782619,
          6.271487479810228,
          83.16837916486246,
          0.025079450428887092,
          161.9441739465922,
          1.4198188932841822,
          3.9816270683354316,
          0.20107357768175857,
          130.03620631952163,
          0,
          1,
          3,
          2,
          5,
          4,
          6],
         [0.8874618963854329,
          0.48649121711758925,
          1491.6763877013677,
          1.562542044586872,
          1.6537517596926177,
          0.16010212047199826,
          508.5844625339109,
          4.366620149873895,
          8.469397921930138,
          0.5793580935423555,
          570.6630130348871,
          4.80915489173746,
          19.434372947009134,
          0.6682552086666099,
          661.7671634805062,
          1.6121044134988327,
          2.7320892580081693,
          0.2693693210959679,
          319.1180084930633,
          1.7945338807224664,
          1.1009940316347853,
          0.12704013571317935,
          152.32488229117067,
          2.2968882916287265,
          72.03869399029429,
          0.2191605333409829,
          153.37956042183615,
          1,
          2,
          5,
          4,
          3,
          0,
          6],
         [0.9202959594266068,
          0.45699535319344975,
          1503.8215567631546,
          1.5377200780491824,
          1.2967414167176967,
          0.0010021510941584336,
          275.35876869142885,
          2.5263970119811128,
          3.616050130977123,
          0.13818310327873162,
          260.0008304237747,
          3.1778879076041657,
          1.3212525335352832,
          0.29480866329851213,
          270.9103708623627,
          0.9042862011371592,
          17.002997491546108,
          0.09429453350388287,
          262.1575415233075,
          1.5306157820229704,
          2.632367599142363,
          0.20408575894307654,
          183.66935805412416,
          1.4842900242942374,
          9.895932323917119,
          0.41355929388060897,
          148.63693878356972,
          1,
          6,
          4,
          2,
          3,
          0,
          5],
         [0.9202978492418473,
          0.45699535319344975,
          1503.8215567631546,
          1.5377298780614654,
          1.2967414167176967,
          0.003102742236921925,
          275.35876869142885,
          2.5263970119811128,
          3.616050130977123,
          0.13877075348329354,
          260.0008301446619,
          3.1778879076041657,
          1.3225443402563715,
          0.2848045173706975,
          270.9103708623627,
          0.9042862011371592,
          17.003003415895694,
          0.09710206848418503,
          262.1575415233075,
          1.5390396581807781,
          2.6244770854538824,
          0.20408575894307654,
          183.66935805412416,
          1.4842900242942374,
          9.834942798017373,
          0.41355929388060897,
          148.63693878356972,
          1,
          6,
          4,
          2,
          3,
          0,
          5],
         [0.9202959594266068,
          0.45699535319344975,
          1503.8215567631546,
          1.537743274960323,
          1.2967243238285469,
          0.0010016864385493768,
          275.3587685669579,
          2.5263307147644434,
          3.6085323980548716,
          0.23227640167515248,
          260.0008304237747,
          3.1778879076041657,
          1.385870430320407,
          0.2834392531480399,
          270.9105324240613,
          0.9042930495448175,
          17.002997491546108,
          0.09598075850993101,
          262.1575415233075,
          1.5306157820229704,
          2.632367599142363,
          0.20334401941089847,
          183.66935805412416,
          1.4842894083553493,
          9.780217540089323,
          0.41355929388060897,
          148.62335309487014,
          1,
          6,
          4,
          2,
          3,
          0,
          5],
         [0.24355984206150824,
          0.5019826292949767,
          1467.5588400133718,
          1.686822566290001,
          1.1007486532605122,
          0.0027548544071580847,
          120.87026762506133,
          0.7215563332404336,
          89.63267365304179,
          0.470638690054244,
          119.69005438394682,
          5.964475761053934,
          96.64094108274243,
          0.10716581061776537,
          117.55585899502333,
          1.6640700734127054,
          14.620980509446131,
          0.26869610144180955,
          109.92700666323067,
          6.275427386641549,
          65.98832957942166,
          0.07454095923182073,
          107.84611286134452,
          3.3414427727340255,
          20.129087496702976,
          0.05789270623219846,
          109.30601873736781,
          0,
          1,
          2,
          5,
          6,
          3,
          4],
         [0.24355902315218225,
          0.5019826292376972,
          1467.5588400132228,
          1.667299733238892,
          1.1007284971472961,
          0.002754858846188209,
          120.87026918058699,
          0.7225887261983569,
          89.62295954347816,
          0.48173694902489883,
          119.69006924439873,
          6.227903018701395,
          92.81525060695542,
          0.10715717388608186,
          117.55570188080968,
          1.4986559722589172,
          14.666109240431318,
          0.2694159567272786,
          109.92700666323067,
          6.199619412299379,
          66.83843997200589,
          0.07454097457749946,
          107.84611286134452,
          3.1793389237341123,
          40.469883972810266,
          0.12713716779689072,
          106.28758847779359,
          0,
          1,
          2,
          5,
          6,
          3,
          4],
         [0.24355982194193498,
          0.5019826221886114,
          1467.5588400133718,
          1.6868239464175911,
          1.1007486532605122,
          0.0027549097693414606,
          120.87026761253254,
          0.721500841513481,
          90.25127285995228,
          0.470638690054244,
          119.69005438394682,
          5.964405357482017,
          96.55110551579529,
          0.12130960477043605,
          117.55585899502333,
          1.6640700734127054,
          14.620980509446131,
          0.26041677824381854,
          109.92700666323067,
          6.2040380212949975,
          65.98732471464355,
          0.07454838551713878,
          107.84611286134452,
          3.340678534807552,
          16.472849320038286,
          0.11400542841887462,
          109.30601873736781,
          0,
          1,
          2,
          5,
          6,
          3,
          4],
         [0.8380823979609368,
          0.48170018901748235,
          1523.2428619312827,
          2.2563901014841727,
          1.2189833167153066,
          0.23876871839926098,
          285.003183111319,
          1.752246727875449,
          18.88930877757537,
          0.4085882613871477,
          267.89777738365444,
          1.7066065339585166,
          7.862797819627934,
          0.0010135727464985003,
          184.41475307245761,
          1.2362867063528222,
          4.442624255541743,
          0.381865684679025,
          158.56564053506418,
          1.0756984940591028,
          2.3933663296010192,
          0.09949252364466411,
          90.28675938707546,
          0.9405408760841266,
          33.00545479359987,
          0.29268121525825846,
          94.00540274254655,
          0,
          4,
          5,
          3,
          1,
          6,
          2],
         [0.8380823605401174,
          0.48169726279286473,
          1523.2428619312827,
          2.2564655490273666,
          1.2189833167153066,
          0.2377316101024461,
          285.0031831114909,
          1.7525287462561405,
          18.88930877757537,
          0.4085882613871477,
          267.8977773828015,
          1.6973478355194445,
          13.145552460718616,
          0.0010135904700768576,
          184.41475307245761,
          1.2363127955895927,
          4.442623305650764,
          0.3844982685721446,
          158.56564052472828,
          1.0755629781294174,
          2.3965873374691813,
          0.13110812010937573,
          90.28675938707546,
          0.9405605711483952,
          33.68943360828631,
          0.29268121525825846,
          94.00540274254655,
          0,
          4,
          5,
          3,
          1,
          6,
          2],
         [0.7000742265418963,
          0.5015706796392544,
          1501.500537416782,
          2.1118376347857124,
          1.1453666667402005,
          0.32799341137190685,
          193.93168479135403,
          5.409075342352892,
          2.5532566072835436,
          0.44736429532541555,
          320.13423952602403,
          5.602243428496286,
          87.14099476146092,
          0.5177903475470612,
          322.67029872120503,
          1.5300224281026045,
          8.961284854735231,
          0.46306405603329626,
          244.70426536134727,
          1.289354319413266,
          1.1006111388209168,
          0.3851930149149855,
          179.92999974148287,
          5.831814257814502,
          65.56384301778664,
          0.015070971617544249,
          168.19430317629045,
          0,
          5,
          4,
          1,
          6,
          2,
          3],
         [0.98715177576557,
          0.4783109072932017,
          1536.994563455587,
          2.0769337038759415,
          1.478086855562595,
          0.05688960549627914,
          310.10458024338556,
          2.786521906171774,
          20.981222593966123,
          0.38652137400997344,
          303.50003029411556,
          6.264518433624818,
          3.8344610279037985,
          0.25130007762683293,
          305.82015056977696,
          1.7458605861169558,
          2.899550401740721,
          0.11715263345502595,
          266.92992923217616,
          1.1664329157252906,
          14.335455442246978,
          0.5456616035452401,
          255.46256066506496,
          1.440287240490739,
          4.826200517930156,
          0.4963584053395294,
          208.6800236917246,
          0,
          5,
          1,
          6,
          2,
          3,
          4]]

t_delta = \
    [[1024.8338534371876, 2248.3766633773575],
     [1051.881313823496, 2248.3763980143513],
     [1388.158510420527, 2023.6931588489865],
     [1825.6711527194402, 1967.2293679199881],
     [1981.9985093881833, 1967.1894955152013],
     [2186.2314999330224, 1967.0313298157212],
     [2405.534898224694, 1966.924554375935],
     [787.8890432022779, 2693.8058221772085],
     [714.4379219431121, 2693.80785781193],
     [729.356341541705, 2693.8073435284036],
     [723.5010512973737, 2693.8078572744203],
     [802.1192917179342, 2693.779810893708],
     [795.5345160582988, 2693.7798195824153],
     [536.7580015134951, 3857.513477956742],
     [667.8898265514699, 2904.555365101722],
     [676.6770155640875, 2904.555364822609],
     [684.6555914764223, 2904.5419408502503],
     [1158.5339081240345, 2152.754159279346],
     [1208.2364755373314, 2149.7355883213872],
     [1186.6158271582656, 2152.754159266817],
     [884.514387581311, 2603.4163781634],
     [948.6229986864251, 2603.4163781523835],
     [665.6941579884893, 2931.0653287344853],
     [582.0895301336583, 3187.491838151831]]

from Final.Splitted.ESA_code import combine_scores
from Final.Splitted.ESA_code import udp
import numpy as np
from matplotlib import pyplot as plt


def plot_all_points_behind(t_delta, conts):
    plt.style.use('seaborn-whitegrid')
    # all_sol_t_delta = np.array(all_sol_t_delta)
    t_delta = np.array(t_delta)
    plt.figure(figsize=(7, 5))
    # plt.scatter(all_sol_t_delta[:, 0], all_sol_t_delta[:, 1], s=40, facecolors='none', edgecolors='steelblue')
    plt.scatter(t_delta[:, 0], t_delta[:, 1], s=40, facecolors='darkgoldenrod', alpha=0.5, edgecolors='darkgoldenrod')
    # t_delta_ref, conts_ref, final_scores_ref = sort_points(t_delta, conts)
    # t_delta_ref = np.array(t_delta_ref)
    # plt.scatter(t_delta_ref[:, 0], t_delta_ref[:, 1], s=40, facecolors='purple', alpha=1, edgecolors='purple'),
    ref_point_x = 2500
    ref_point_y = 4000
    plt.scatter(ref_point_x, ref_point_y, color="red")
    plt.title("Best possible approximation of pareto front")
    plt.xlim(0, 5000)
    plt.ylim(0, 5000)
    plt.xlabel("Delta_V")
    plt.ylabel("Days")
    plt.plot([2500, 2500], [0, 4000], color='r')
    plt.plot([-100000, 2500], [4000, 4000], color='r')
    plt.show()


# alle vor dem ref punkt
def sort_points(t_delta, conts):
    # alle punkte hinter dem refpunkt raus
    final_scores_ref = []
    t_delta_ref = t_delta.copy().tolist()
    conts_ref = list(conts.copy())
    for t in range(len(t_delta)):
        final_scores_ref.append(combine_scores(np.array([t_delta[t]])))

    for v in reversed(list(range(len(t_delta)))):
        if final_scores_ref[v] >= 0.0:
            t_delta_ref.pop(v)
            conts_ref.pop(v)
            final_scores_ref.pop(v)

    return t_delta_ref, conts_ref, final_scores_ref
